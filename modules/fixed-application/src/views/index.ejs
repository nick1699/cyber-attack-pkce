<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fixed Frontend</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
<div class="min-h-full">
    <nav class="bg-gray-800">
        <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
            <div class="flex h-16 items-center justify-between">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <img class="h-8 w-8" src="https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=500"
                             alt="Your Company">
                    </div>
                    <div class="hidden md:block">
                        <div class="ml-10 flex items-baseline space-x-4">
                            <a class="bg-gray-900 text-white rounded-md px-3 py-2 text-sm font-medium"
                               aria-current="page">Dashboard</a>
                            <a class="text-gray-300 hover:bg-gray-700 hover:text-white rounded-md px-3 py-2 text-sm font-medium">Finanzplaner</a>
                            <a class="text-gray-300 hover:bg-gray-700 hover:text-white rounded-md px-3 py-2 text-sm font-medium">Bankkarte</a>
                            <a class="text-gray-300 hover:bg-gray-700 hover:text-white rounded-md px-3 py-2 text-sm font-medium">Kredite</a>
                        </div>
                    </div>
                </div>
                <div class="md:block">
                    <div class="ml-4 flex items-center md:ml-6">
                        <% if (!isAuthenticated) { %>
                            <a href="/login" id="login-button"
                               class="rounded-md bg-indigo-600 px-3.5 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">
                                Anmelden
                            </a>
                        <% } else { %>
                            <button type="button"
                                    class="relative rounded-full bg-gray-800 p-1 text-gray-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800"
                                    id="notification-button">
                                <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                     stroke="currentColor" aria-hidden="true">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                          d="M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"/>
                                </svg>
                            </button>

                            <div class="relative ml-3" id="profile-button">
                                <div>
                                    <button type="button"
                                            class="relative flex max-w-xs items-center rounded-full bg-gray-800 text-sm focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800"
                                            id="user-menu-button" aria-expanded="false" aria-haspopup="true">
                                        <img class="h-8 w-8 rounded-full"
                                             src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
                                             alt="">
                                    </button>
                                </div>

                                <div class="menu absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none hidden"
                                     role="menu" aria-orientation="vertical" aria-labelledby="user-menu-button"
                                     tabindex="-1">
                                    <a class="block px-4 py-2 text-sm text-gray-700" role="menuitem" tabindex="-1"
                                       id="user-menu-item-1">Einstellungen</a>
                                    <a href="/logout" id="logoutButton"
                                       class="block px-4 py-2 text-sm text-gray-700 cursor-pointer"
                                       role="menuitem" tabindex="-1">Abmelden</a>
                                </div>
                            </div>
                        <% } %>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <header class="bg-gray-100 shadow">
        <div class="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8">
            <h1 class="text-3xl font-bold tracking-tight text-gray-900">Willkommen bei der Geldbank in <%- city %><span
                        id="givenName"><%= givenName ? `, ${givenName}` : '' %></span>!</h1>
        </div>
    </header>

    <main>
        <% if (!isAuthenticated) { %>
        <div id="landing-page" class="relative isolate px-6 lg:px-8">
            <div class="mx-auto max-w-2xl lg:py-40">
                <div class="text-center">
                    <h1 class="text-4xl font-bold tracking-tight text-gray-900 sm:text-6xl">Sicherheit und Wachstum für
                        Ihre Finanzen</h1>
                    <p class="mt-6 text-lg leading-8 text-gray-600">Entdecken Sie, wie unsere maßgeschneiderten
                        Finanzlösungen Ihnen dabei helfen können, Ihre finanziellen Ziele zu erreichen. Wir bieten Ihnen
                        eine Vielfalt an Dienstleistungen – von persönlichen Girokonten bis hin zu komplexen
                        Anlagestrategien.</p>
                    <div class="mt-10 flex items-center justify-center gap-x-6">
                        <a class="rounded-md bg-indigo-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">Jetzt
                            Kunde werden</a>
                        <a class="text-sm font-semibold leading-6 text-gray-900">Mehr erfahren <span aria-hidden="true">→</span></a>
                    </div>
                </div>
            </div>
        </div>
        <% } else if (isAuthenticated && accounts) { %>
        <div id="bank-accounts" class="mx-auto max-w-7xl py-6 sm:px-6 lg:px-8">
            <div class="w-full p-4 bg-white border border-gray-200 rounded-lg shadow sm:p-8 dark:bg-gray-800 dark:border-gray-700">
                <div class="flex items-center justify-between mb-4">
                    <h5 class="text-xl font-bold leading-none text-gray-900 dark:text-white">Konten</h5>
                </div>
                <div class="flow-root">
                    <ul role="list" class="divide-y divide-gray-200 dark:divide-gray-700">
                        <% accounts.forEach(function(account) { %>
                        <li class="py-3">
                            <div class="flex items-center">
                                <div class="flex-1 min-w-0">
                                    <p class="text-sm font-bold text-gray-900 truncate dark:text-white"><%= account.type %></p>
                                    <p class="text-sm text-gray-500 truncate dark:text-gray-400"><%= account.iban %></p>
                                </div>
                                <div class="inline-flex items-center text-base font-semibold text-gray-900 dark:text-white">
                                    <%= account.balance %> €
                                </div>
                            </div>
                        </li>
                        <% }); %>
                    </ul>
                </div>
            </div>
        </div>
        <% } %>
    </main>

    <footer class="fixed bottom-0 left-0 z-20 w-full p-4 bg-gray-100 border-t border-gray-200 shadow md:flex md:items-center md:justify-between md:p-6 dark:bg-gray-800 dark:border-gray-600">
        <span class="text-sm text-gray-500 sm:text-center dark:text-gray-400">© 2024 Geldbank</span>
        <ul class="flex flex-wrap items-center mt-3 text-sm font-medium text-gray-500 dark:text-gray-400 sm:mt-0">
            <li>
                <a class="hover:underline me-4 md:me-6">AGB</a>
            </li>
            <li>
                <a class="hover:underline me-4 md:me-6">Datenschutz</a>
            </li>
            <li>
                <a class="hover:underline me-4 md:me-6">Impressum</a>
            </li>
            <li>
                <a class="hover:underline">Kontakt</a>
            </li>
        </ul>
    </footer>
</div>

<script>
    document.getElementById('user-menu-button').addEventListener('click', function () {
        const menu = document.querySelector('.menu');
        const isExpanded = this.getAttribute('aria-expanded') === 'true';
        this.setAttribute('aria-expanded', !isExpanded);
        menu.classList.toggle('hidden');
    });
</script>
</body>
</html>
